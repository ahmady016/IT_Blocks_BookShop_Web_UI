<h2>Borrowing</h2>

<form class="w-50 mx-auto" [formGroup]="borrowingForm" (submit)="$event.preventDefault();">

  <div class="form-group">
    <div class="input-group">
      <input class="form-control" name="borrowingStartDate" placeholder="Borrowing StartDate"
            [(ngModel)]="startDate" [ngModelOptions]="{standalone: true}"
            ngbDatepicker #startDatePicker="ngbDatepicker"
            (blur)="fields.borrowingStartDate.markAsTouched()"
            (change)="setDateField('start')"
            (dateSelect)="setDateField('start')">
      <div class="input-group-append">
        <button type="button" class="btn btn-outline-secondary" (click)="startDatePicker.toggle()">
          <i class="far fa-calendar-alt"></i>
        </button>
      </div>
    </div>
    <div class="alert bg-danger" *ngIf="fields.borrowingStartDate.invalid && fields.borrowingStartDate.touched">
      <div *ngIf="fields.borrowingStartDate.errors.required">Borrowing StartDate Required</div>
    </div>
  </div>

  <div class="form-group">
    <div class="input-group">
      <input class="form-control" name="borrowingEndDate" placeholder="Borrowing EndDate"
            [(ngModel)]="endDate" [ngModelOptions]="{standalone: true}"
            ngbDatepicker #endDatePicker="ngbDatepicker"
            (blur)="fields.borrowingEndDate.markAsTouched()"
            (change)="setDateField('end')"
            (dateSelect)="setDateField('end')">
      <div class="input-group-append">
        <button type="button" class="btn btn-outline-secondary" (click)="endDatePicker.toggle()">
          <i class="far fa-calendar-alt"></i>
        </button>
      </div>
    </div>
    <div class="alert bg-danger" *ngIf="fields.borrowingEndDate.invalid && fields.borrowingEndDate.touched">
      <div *ngIf="fields.borrowingEndDate.errors.required">Borrowing EndDate Required</div>
    </div>
  </div>

  <div class="form-group">
    <label for="CustomerId">CustomerId</label>
    <input type="text" id="customerId" class="form-control" placeholder="CustomerId" formControlName="customerId">
    <div class="alert bg-danger" *ngIf="fields.customerId.invalid && fields.customerId.touched">
      <div *ngIf="fields.customerId.errors.required">CustomerId Required</div>
    </div>
  </div>

  <div class="form-group">
    <label for="customerName">Customer Name</label>
    <input type="text" id="customerName" class="form-control" placeholder="Customer Name" formControlName="customerName">
    <div class="alert bg-danger" *ngIf="fields.customerName.invalid && fields.customerName.touched">
      <div *ngIf="fields.customerName.errors.required">Customer Name Required</div>
    </div>
  </div>

  <button
    type="submit"
    class="btn btn-warning btn-lg w-50"
    [disabled]="borrowingForm.invalid"
    (click)="doBorrowing()">
    Borrowing
  </button>

</form>
